<!DOCTYPE html>
<html lang="en-us^">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="gi-modules">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="https://gisma-courses.github.io/gi-modules///assets/images/final2-sp.jpg">
    <meta property="twitter:image" content="https://gisma-courses.github.io/gi-modules///assets/images/final2-sp.jpg" />
    

    
    <meta name="title" content="Change detection" />
    <meta property="og:title" content="Change detection" />
    <meta property="twitter:title" content="Change detection" />
    

    
    <meta name="description" content="">
    <meta property="og:description" content="" />
    <meta property="twitter:description" content="" />
    

    
    <meta property="twitter:card" content="summary" />
    
    
    
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
<link rel="stylesheet" href="/gi-modules/css/hugo-cite.css" />
<link rel="stylesheet" href="https://gisma-courses.github.io/gi-modules/css/stackoverflow-light.min.css" rel="stylesheet" id="theme-stylesheet">
<script src="https://gisma-courses.github.io/gi-modules/js/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

    <meta name="keyword"  content="gisma">
    <link rel="shortcut icon" href="/gi-modules/img/favicon.ico">

    <title>Change detection-your title</title>

    <link rel="canonical" href="/gi-modules/gi-modules/post/2021-12-16-change-detection/">
    

  <script src="https://unpkg.com/boxicons@2.0.9/dist/boxicons.js"></script>
    
    <link href="https://gisma-courses.github.io/gi-modules/css/boxes.css" rel="stylesheet">

    <link rel="stylesheet" href="/gi-modules/css/iDisqus.min.css"/>

    
    <link rel="stylesheet" href="/gi-modules/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/gi-modules/css/hugo-theme-cleanwhite.min.css">

    
    <link rel="stylesheet" href="/gi-modules/css/zanshang.css">

    
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" type="text/css">

    
    

    
    
    <script src="/gi-modules/js/jquery.min.js"></script>

    
    <script src="/gi-modules/js/bootstrap.min.js"></script>

    
    <script src="/gi-modules/js/hux-blog.min.js"></script>

    
    

</head>




<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/gi-modules/"> HOME </a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                   
                    
                        
                        <li>
                            <a href="/gi-modules/categories/agis">agis</a>
                        </li>
                        
                        <li>
                            <a href="/gi-modules/categories/basics">basics</a>
                        </li>
                        
                        <li>
                            <a href="/gi-modules/categories/bgis">bgis</a>
                        </li>
                        
                    
                    
		    
                        <li><a href="/gi-modules/top/archive/">CONTENT</a></li>
                    

                    
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>




<style type="text/css">
    header.intro-header {
        background-image: url('/gi-modules/assets/images/harz-sp.jpg');
  max-height: 350px
    }
</style>

<header class="intro-header" >

    <div class="container">
        <div class="row">
            <div class="col-lg-0 col-lg-offset-0 col-md-0 col-md-offset-0">
                <div class="post-heading">
                   
                    <h1>Change detection</h1>
                   
            
                            
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>




<article>
    <div class="container">
        <div class="row">

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                
                <p>In den Geowissenschaften ist die Fernerkundung die einzige Messtechnik, die eine vollständige Abdeckung großer räumlicher Skalen ermöglicht. Zur Forschung gehört notwendigerweise auch die Entwicklung eigener Methoden, insbesondere im Hinblick auf die Verarbeitungsketten, aber auch in der Kopplung geeigneter und etablierter Methoden.</p>
<p>Ein zentraler Bestandteil der Umweltinformatik ist die Veränderungsdetektion mittels Satelliten-, Flugzeug- und Drohnenbildern. Oft wird dies in Verbindung mit bio- und geophysikalischen oder vom Menschen verursachten Prozessen genutzt, um ein tieferes Verständnis und die Möglichkeit zur Entwicklung von Vorhersagemodellen zu erhalten. Dabei sind Bildanalysemethoden von zentraler Bedeutung, um Informationen zu extrahieren, die es erlauben, die zugrunde liegenden Prozesse zu identifizieren. Ein immer wichtigerer Aspekt ist die Integration von Big Data-Analysen.</p>
<p>Die wachsende und jetzt schon überwältigende Flut an verfügbaren Bild- und Fernerkundungsdaten muss leicht zugänglich sein und sowohl für den wissenschaftlichen Erkenntnisgewinn als auch für gesellschaftliche Zukunftsaufgaben genutzt werden. Wir beginnen mit dieser praktischen Anwendung in dieser Übung.</p>
<h2 id="vorgehensweise">Vorgehensweise</h2>
<p>Unverarbeitete Satellitenbilder sind nicht unbedingt informativ. Unser Auge kann ein Echtfarbenbild relativ leicht interpretieren, aber eine zuverlässige und reproduzierbare wissenschaftliche Interpretation erfordert andere Ansätze. Außerdem können Bildverarbeitungsmethoden zusätzliche, spezifischere Informationen ableiten. Wir haben bereits einfache Indices berechnet. Auch die Ableitung der Oberflächenalbedo ist ebenfalls eine physikalisch begründete Umwandlung von Bildsignalen in eine physikalische Größe.</p>
<p>Um nützliche Informationen, z. B. über die Bodenbedeckung in einem Gebiet, zu erhalten, müssen wir die Daten daher zielgerichtet analysieren. Der bekannteste und gängigste Ansatz ist die Klassifizierung der Bilder in Kategorien die von Interesse sind.</p>
<p>Diese Übung führt Sie in die Klassifizierung von Satelliten- und Luftvermessungsdaten in <code>R</code> ein. Als solche deckt sie das Folgende ab:</p>
<ol>
<li>Vorbereiten der Arbeitsumgebung und Laden der Daten</li>
<li>Quick &amp; dirty Digtalisierung von Trainingsbereichen</li>
<li>unüberwachte/überwachte Klassifizierung</li>
</ol>
<ul>
<li>k-means (über <code>RStoolbox</code>)</li>
<li>Rekursive Partitionierung und Regressionsbäume (über <code>rpart</code>)</li>
<li>Random Forest (über <code>caret</code>)</li>
</ul>
<h2 id="change-detection-waldveränderung-nord-west-harz">Change Detection Waldveränderung Nord-West-Harz</h2>
<p>In diesem Tutorium werden die Sentinel-2-Bilder aus der vorherigen Übung verwendet.</p>
<h2 id="schritt-1---einrichten-des-skripts">Schritt 1 - Einrichten des Skripts</h2>
<p>Sie können entweder die gespeicherten Daten aus der vorangegangenen Einheit verwenden oder einen neuen Abschnitt zum Üben herunterladen und bearbeiten. Im Prinzip wird jedoch zuerst die Arbeitsumgebung geladen.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e">#  ---- 0 Projekt Setup ----</span>
<span style="color:#75715e"># Achtung Pakete müssen evtl. manuell installiert werden</span>
<span style="color:#a6e22e">library</span>(envimaR)

<span style="color:#75715e">#--- Schalter für den Download der sentinel daten</span>
get_sen <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>

<span style="color:#75715e">#--- schalter ob digitalisiert werden muss falls er auf FALSE gesetzt ist werden die</span>
<span style="color:#75715e"># (zuvor erstellten und gesciherten Daten ) im else Teil der Verzeigung eingelesen</span>
digitize <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>

<span style="color:#75715e">## setzen des aktuellen Projektverzeichnisses (erstellt mit envimaR) als root_folder</span>
<span style="color:#75715e">#root_folder = find_rstudio_root_file()</span>
root_folder <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;~/edu/geoinfo/&#34;</span>

<span style="color:#75715e"># Einlesen des zuvor erstellten Setup-Skripts</span>
<span style="color:#a6e22e">source</span>(<span style="color:#a6e22e">file.path</span>(root_folder, <span style="color:#e6db74">&#34;src/functions/000_setup.R&#34;</span>))

</code></pre></div><p>Bitte ergänzen Sie bei auftreteneden Fehlermeldungen in bezug auf Pakete diese an der Stelle ihres Setup-Skripts.</p>
<p>Auf der Grundlage der verfügbaren Sentinel Daten  sollten nun zunächst geeignete Datensätze für eine Oberflächenklassifikation identifiziert werden. Hierzu kann der vollständige Datensatz auch vom Kursdatenserver <a href="http://gofile.me/3Z8AJ/7Ika7zY9x">heruntergeladen</a> werden (Bitte beachten Sie dass sie im VPN bzw. UniNetz angemeldet sein müssen).Entpacken Sie diese Daten in das Wurzelverzeichnis des Kursprojekts.Das heist der <code>data</code> Ordenr wird ersetzt/ergänzt.</p>
<h2 id="kurze-einführung-in-klassifkation">Kurze Einführung in Klassifkation</h2>
<h3 id="überwachte-klassifizierung">Überwachte Klassifizierung</h3>
<p>Bei der überwachten Klassifizierung von Landbedeckungen wird aus einer begrenzten Menge sogenannter Trainingsdaten ein Modell abgeleitet, das die jeweilige Landbedeckung im gesamten Datensatz vorhersagt. Die Landbedeckungstypen werden also <em>a priori</em> definiert, und das Modell versucht, diese Typen auf der Grundlage der Ähnlichkeit zwischen den Eigenschaften der Trainingsdaten und dem Rest des Datensatzes vorherzusagen.</p>
<p>
  <img src="images/supervised_classification.jpg" alt="">

</p>
<p>Solche Klassifizierungen erfordern im Allgemeinen mindestens fünf Schritte:</p>
<ol>
<li>
<p>Zusammenstellung eines umfassenden Eingabedatensatzes, der eine oder mehrere Rasterebenen enthält.</p>
</li>
<li>
<p>Auswahl von Trainingsgebieten, d.h. Teilmengen von Eingabedatensätzen, für die der Fernerkundungsexperte den Landbedeckungstyp kennt. Das Wissen über die Landbedeckung kann z.B. aus eigenen oder fremden <em>in situ</em> Beobachtungen, Managementinformationen oder anderen Fernerkundungsprodukten (z.B. hochauflösenden Luftbildern) gewonnen werden.</p>
</li>
<li>
<p>Training eines Modells unter Verwendung der Trainingsflächen. Zu Validierungszwecken werden die Trainingsflächen häufig in eine oder mehrere Test- und Trainingsstichproben unterteilt, um die Leistung des Modellalgorithmus zu bewerten.</p>
</li>
<li>
<p>Anwendung des trainierten Modells auf den gesamten Datensatz, d. h. Vorhersage der Bodenbedeckungsart auf der Grundlage der Ähnlichkeit der Daten an jedem Ort mit den Klasseneigenschaften des Trainingsdatensatzes.</p>
</li>
</ol>
<p>Bitte beachten Sie, dass alle Arten der Klassifizierung eine gründliche Validierung erfordern, die im Mittelpunkt der kommenden Kurseinheiten stehen wird.</p>
<p>Die folgende Abbildung zeigt die Schritte einer überwachten Klassifikation im Detail. Die optionalen Segmentierungsoperationen sind obligatorisch für objektorientierte Klassifizierungen, die sich nicht nur auf die Geometrie der Objekte, sondern auch auf die Werte jeder einzelnen Rasterzelle im Eingabedatensatz stützen. Um einzelne Objekte wie Häuser oder Baumkronen abzugrenzen, verwenden Fernerkundungsexperten Segmentierungsalgorithmen, die die Homogenität der Pixelwerte innerhalb ihrer räumlichen Nachbarschaft berücksichtigen.</p>
<p>
  <img src="images/supervised_classification_concept.jpg" alt="">

</p>
<h2 id="zweiter-schritt-übersicht-verschaffen">Zweiter Schritt Übersicht verschaffen</h2>
<ol>
<li>Welche der Daten sind für eine visuelle Inspektion interessant und wo sind sie abgelegt?</li>
<li>Welche Daten sind interessant für eine Klassifikation?</li>
</ol>
<p>Bei näherer Betrachtung der RGB Bilder (RGB432B) zeigt sich das zwei Datensätze aufgrund der Bildqualität und Wolkenbedeckung geeignet zu sein scheinen. Der 24.7.2019 und der 30.7. 2020.</p>
<p>zunächst einmal benötigen wir nun diese Daten in einem Rasterstapel. Hierzu schauen wir welche weiteren Produkte wir noch verfügbar haben. Unter anderen sind dies die Indices EVI, MSAVI2 MSI NDVI SAVI und EVI.</p>
<p>Diese müssen nun eingelesen werden:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">
<span style="color:#75715e">#--- Download der Daten</span>
<span style="color:#75715e"># gui = TRUE ruft die GUI zur Kontrolle auf</span>
<span style="color:#a6e22e">if </span>(get_sen){
   out_paths_3 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">sen2r</span>(
    gui <span style="color:#f92672">=</span> T,
    param_list <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;~/edu/geoinfo/data/harz.json&#34;</span>,
    tmpdir <span style="color:#f92672">=</span> envrmt<span style="color:#f92672">$</span>path_tmp,
  )
}
<span style="color:#75715e">#--- Einlesen der Daten aus den Verzeichnissen</span>
<span style="color:#75715e"># RGB stack der beiden Jahre</span>

pred_stack_2019 <span style="color:#f92672">=</span> raster<span style="color:#f92672">::</span><span style="color:#a6e22e">stack</span>(<span style="color:#a6e22e">list.files</span>(<span style="color:#a6e22e">file.path</span>(envrmt<span style="color:#f92672">$</span>path_data_lev1,<span style="color:#e6db74">&#34;RGB843B&#34;</span>),pattern <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;20190619&#34;</span>,full.names <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>))
pred_stack_2020 <span style="color:#f92672">=</span> raster<span style="color:#f92672">::</span><span style="color:#a6e22e">stack</span>(<span style="color:#a6e22e">list.files</span>(<span style="color:#a6e22e">file.path</span>(envrmt<span style="color:#f92672">$</span>path_data_lev1,<span style="color:#e6db74">&#34;RGB843B&#34;</span>),pattern <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;20200623&#34;</span>,full.names <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>))

<span style="color:#75715e"># Stack-Loop über die Daten</span>
<span style="color:#a6e22e">for </span>(pat in <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;RGB432B&#34;</span>,<span style="color:#e6db74">&#34;EVI&#34;</span>,<span style="color:#e6db74">&#34;MSAVI2&#34;</span>,<span style="color:#e6db74">&#34;NDVI&#34;</span>,<span style="color:#e6db74">&#34;SAVI&#34;</span>)){
  pred_stack_2019 <span style="color:#f92672">=</span> raster<span style="color:#f92672">::</span><span style="color:#a6e22e">stack</span>(pred_stack_2019,raster<span style="color:#f92672">::</span><span style="color:#a6e22e">stack</span>(<span style="color:#a6e22e">list.files</span>(<span style="color:#a6e22e">file.path</span>(envrmt<span style="color:#f92672">$</span>path_data_lev1,pat),pattern <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;20190619&#34;</span>,full.names <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)))
  pred_stack_2020 <span style="color:#f92672">=</span> raster<span style="color:#f92672">::</span><span style="color:#a6e22e">stack</span>(pred_stack_2020,raster<span style="color:#f92672">::</span><span style="color:#a6e22e">stack</span>(<span style="color:#a6e22e">list.files</span>(<span style="color:#a6e22e">file.path</span>(envrmt<span style="color:#f92672">$</span>path_data_lev1,pat),pattern <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;20200623&#34;</span>,full.names <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)))
}

<span style="color:#75715e"># Zuweisen von leserlichen Namen auf die Datenebenen</span>
<span style="color:#a6e22e">names</span>(pred_stack_2019) <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;nir&#34;</span>,<span style="color:#e6db74">&#34;red&#34;</span>,<span style="color:#e6db74">&#34;green&#34;</span>,<span style="color:#e6db74">&#34;red&#34;</span>,<span style="color:#e6db74">&#34;green&#34;</span>,<span style="color:#e6db74">&#34;blue&#34;</span>,<span style="color:#e6db74">&#34;EVI&#34;</span>,<span style="color:#e6db74">&#34;MSAVI2&#34;</span>,<span style="color:#e6db74">&#34;NDVI&#34;</span>,<span style="color:#e6db74">&#34;SAVI&#34;</span>)
<span style="color:#a6e22e">names</span>(pred_stack_2020) <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;nir&#34;</span>,<span style="color:#e6db74">&#34;red&#34;</span>,<span style="color:#e6db74">&#34;green&#34;</span>,<span style="color:#e6db74">&#34;red&#34;</span>,<span style="color:#e6db74">&#34;green&#34;</span>,<span style="color:#e6db74">&#34;blue&#34;</span>,<span style="color:#e6db74">&#34;EVI&#34;</span>,<span style="color:#e6db74">&#34;MSAVI2&#34;</span>,<span style="color:#e6db74">&#34;NDVI&#34;</span>,<span style="color:#e6db74">&#34;SAVI&#34;</span>)
<span style="color:#a6e22e">saveRDS</span>(pred_stack_2019,<span style="color:#a6e22e">paste0</span>(envrmt<span style="color:#f92672">$</span>path_data,<span style="color:#e6db74">&#34;pred_stack_2019.rds&#34;</span>))
<span style="color:#a6e22e">saveRDS</span>(pred_stack_2020,<span style="color:#a6e22e">paste0</span>(envrmt<span style="color:#f92672">$</span>path_data,<span style="color:#e6db74">&#34;pred_stack_2020.rds&#34;</span>))
pred_stack_2019 <span style="color:#f92672">=</span> <span style="color:#a6e22e">readRDS</span>(<span style="color:#a6e22e">paste0</span>(envrmt<span style="color:#f92672">$</span>path_data,<span style="color:#e6db74">&#34;pred_stack_2019.rds&#34;</span>))
pred_stack_2020 <span style="color:#f92672">=</span> <span style="color:#a6e22e">readRDS</span>(<span style="color:#a6e22e">paste0</span>(envrmt<span style="color:#f92672">$</span>path_data,<span style="color:#e6db74">&#34;pred_stack_2020.rds&#34;</span>))

<span style="color:#75715e"># visuelle Überprüfung der stacks</span>
<span style="color:#a6e22e">plot</span>(pred_stack_2019)
<span style="color:#a6e22e">plot</span>(pred_stack_2020)


</code></pre></div><h2 id="driter-schritt-erster-überblick-mit-einer-k-means-klassifikation">Driter Schritt erster Überblick mit einer K-Means Klassifikation</h2>
<p>Die bekannteste unüberwachte Klassifizierungstechnik ist das K-means-Clustering, das auch als der <em>&ldquo;einfachster  Algorithmus des maschinellen Lernens&rdquo;</em> bezeichnet wird.</p>
<p>In unserem Beispiel (für 2 Klassen angewandt und der Einfachheit halber mit <code>RStoolbox</code> ausgeführt) sieht es wie folgt aus:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e">## k-means über RStoolbox</span>
<span style="color:#75715e"># Modell</span>
prediction_kmeans_2019 <span style="color:#f92672">=</span> <span style="color:#a6e22e">unsuperClass</span>(pred_stack_2019, nClasses <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>,norm <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>, algorithm <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;MacQueen&#34;</span>)
<span style="color:#75715e"># Klassifikation</span>
<span style="color:#a6e22e">mapview</span>(prediction_kmeans_2019<span style="color:#f92672">$</span>map, col <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;darkgreen&#39;</span>, <span style="color:#e6db74">&#39;burlywood&#39;</span>, <span style="color:#e6db74">&#39;green&#39;</span>))
prediction_kmeans_2020 <span style="color:#f92672">=</span> <span style="color:#a6e22e">unsuperClass</span>(pred_stack_2020, nClasses <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>,norm <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>, algorithm <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;MacQueen&#34;</span>)
<span style="color:#a6e22e">mapview</span>(prediction_kmeans2020<span style="color:#f92672">$</span>map, col <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;darkgreen&#39;</span>, <span style="color:#e6db74">&#39;burlywood&#39;</span>, <span style="color:#e6db74">&#39;green&#39;</span>))
</code></pre></div><h2 id="vierter-schritt-trainingsdaten-erstellen">Vierter Schritt Trainingsdaten erstellen</h2>
<p>Der nächste Schritt ist optional, bietet aber die Möglichkeit, schnell und effektiv einige Trainingsflächen zu digitalisieren, ohne die RStudio-Welt zu verlassen. Für größere Aufgaben ist es unerlässlich, auf den hohen Komfort der QGIS-Arbeitsumgebung zurückzugreifen. Für diese Übung verwenden wir <code>mapedit</code>, ein kleines, aber feines Paket, das die Digitalisierung am Bildschirm in Rstudio oder in einem Browser ermöglicht. In Kombination mit <code>mapview</code> ist es sehr komfortabel für schnelles Digitalisieren. Besonders hilfreich ist die bequeme Möglichkeit, echte oder falsche <a href="https://custom-scripts.sentinel-hub.com/custom-scripts/sentinel-2/composites/">Farbkomposita</a> zu erzeugen.</p>
<h3 id="farbkomposita-für-bessere-trainingsergebnisse">Farbkomposita für bessere Trainingsergebnisse</h3>
<p>
  <img src="images/cc.html" alt="">

{width=500px height=500px}</p>
<p>Verwenden Sie die Ebenensteuerung, um die Ebenen umzuschalten.
Bei Echtfarbkompositen werden die sichtbaren Spektralkanäle Rot (B04), Grün (B03) und Blau (B02) den entsprechenden roten, grünen bzw. blauen Farbkanälen zugeordnet, wodurch ein quasi natürliches &ldquo;farbiges&rdquo; Bild der Oberfläche entsteht, wie es ein Mensch sehen würde, der auf dem Satelliten sitzt.
Falschfarbenbilder werden häufig mit den Spektralkanälen für das nahe Infrarot, Rot und Grün erzeugt. Sie eignen sich hervorragend für die Einschätzung der Vegetation, da Pflanzen nahes Infrarot und grünes Licht reflektieren, während sie rotes Licht absorbieren (Red Edge Effect). Ein dichterer Pflanzenbewuchs ist dunkler rot. Städte und offener Boden sind grau oder hellbraun, und Wasser erscheint blau oder schwarz.</p>
<h3 id="quick--dirty-trainingsdaten-digitalisieren">Quick &amp; Dirty Trainingsdaten digitalisieren</h3>
<p>Wir nehmen an, dass wir zwei Arten von Landbedeckung klassifizieren wollen: Wald, Nicht-Wald, Abholzungen.
Jede Klasse wird <strong>einzeln</strong> digitalisiert.  Im Anschluss werden die Trainingsdatenmerkmale des jeweiligen Rasterstacks extrahiert und auf Fehlwerte bereiningt.
Falls dieser Teil bereits absolviert wurde kann die logische Variable <code>digitize</code> auf <code>FALSE</code>  gesetzt werden und es wird dann der <code>ELSE</code> Teil der Verzweigung durchlaufen - also nur noch die existierenden Daten eingelesen.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e">#---- Digitalisierung der Trainingsdaten ----</span>

<span style="color:#a6e22e">if </span>(digitize) {
  <span style="color:#75715e"># Für die überwachte Klassifikation benötigen wir Trainingsgebiete. Sie können Sie wie nachfolgend digitalisieren oder alternativ z.B. QGis verwenden</span>
  
  <span style="color:#75715e">#--- 2019</span>
  <span style="color:#75715e"># Kahlschlag</span>
  <span style="color:#75715e"># Es wird das Falschfarbenkomosit in originaler Auflösung genutzt (maxpixels =  1693870)</span>
  <span style="color:#75715e"># Bitte beachten Sie dass es (1) deutlich länger lädt und (2) Vegetation in Rot dargestellt wird.</span>
  <span style="color:#75715e"># Die Kahlschäge sind jetzt grün</span>
  train_area <span style="color:#f92672">&lt;-</span> mapview<span style="color:#f92672">::</span><span style="color:#a6e22e">viewRGB</span>(pred_stack_2019, r <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, g <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, b <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>, maxpixels <span style="color:#f92672">=</span>  <span style="color:#ae81ff">1693870</span>) <span style="color:#f92672">%&gt;%</span> mapedit<span style="color:#f92672">::</span><span style="color:#a6e22e">editMap</span>()
  <span style="color:#75715e"># Hinzufügen der Attribute class (text) und id (integer)</span>
  clearcut <span style="color:#f92672">&lt;-</span> train_area<span style="color:#f92672">$</span>finished<span style="color:#f92672">$</span>geometry <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">st_sf</span>() <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">mutate</span>(class <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;clearcut&#34;</span>, id <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>)
  
  <span style="color:#75715e"># other: hier gilt es möglichst verteilt übers Bild möglichst alle nicht zu Kahlschlag  gehörenden Flächen zu erfassen.</span>
  train_area <span style="color:#f92672">&lt;-</span> mapview<span style="color:#f92672">::</span><span style="color:#a6e22e">viewRGB</span>(pred_stack_2019, r <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, g <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, b <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">%&gt;%</span> mapedit<span style="color:#f92672">::</span><span style="color:#a6e22e">editMap</span>()
  other <span style="color:#f92672">&lt;-</span> train_area<span style="color:#f92672">$</span>finished<span style="color:#f92672">$</span>geometry <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">st_sf</span>() <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">mutate</span>(class <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;other&#34;</span>, id <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>)
  
  <span style="color:#75715e"># rbind  kopiert die beiden obigen Vektorobjekte in eine Datei</span>
  train_areas_2019 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rbind</span>(clearcut, other)
  
  <span style="color:#75715e"># Umprojizieren auf die Raster Datei</span>
  train_areas_2019 <span style="color:#f92672">=</span> sf<span style="color:#f92672">::</span><span style="color:#a6e22e">st_transform</span>(train_areas_2019,crs <span style="color:#f92672">=</span> sf<span style="color:#f92672">::</span><span style="color:#a6e22e">st_crs</span>(pred_stack_2019))
  
  
  <span style="color:#75715e"># Extraktion der Trainingsdaten für die digitalisierten Flächen</span>
  tDF_2019 <span style="color:#f92672">=</span> exactextractr<span style="color:#f92672">::</span><span style="color:#a6e22e">exact_extract</span>(pred_stack_2019, train_areas_2019,  force_df <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>,
                                          include_cell <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>,include_xy <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>,full_colnames <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>,include_cols <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;class&#34;</span>)
  <span style="color:#75715e">#  auch hier wieder zusamenkopieren in eine Datei</span>
  tDF_2019 <span style="color:#f92672">=</span> dplyr<span style="color:#f92672">::</span><span style="color:#a6e22e">bind_rows</span>(tDF_2019)
  
  <span style="color:#75715e"># Löschen von etwaigen Zeilen die NA (no data) Werte enthalten</span>
  tDF_2019 <span style="color:#f92672">=</span> tDF_2019<span style="color:#a6e22e">[complete.cases</span>(tDF_2019) ,]
  tDF_2019 <span style="color:#f92672">=</span> tDF_2019[ ,<span style="color:#a6e22e">rowSums</span>(<span style="color:#a6e22e">is.na</span>(tDF_2019)) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>]
  
  <span style="color:#75715e"># check der extrahierten Daten</span>
  <span style="color:#a6e22e">summary</span>(tDF_2019)
  <span style="color:#a6e22e">mapview</span>(train_areas_2019)<span style="color:#f92672">+</span>pred_stack_2019[[1]]
  
  <span style="color:#75715e"># Abspeichern als R-internes Datenformat</span>
  <span style="color:#75715e"># ist im Repo hinterlegt und kann desahlb (zeile drunter) eingeladen werden</span>
  <span style="color:#a6e22e">saveRDS</span>(tDF_2019, <span style="color:#a6e22e">paste0</span>(envrmt<span style="color:#f92672">$</span>path_data,<span style="color:#e6db74">&#34;train_areas_2019.rds&#34;</span>))
  
  
  <span style="color:#75715e"># # ---- Das gleiche muss für 2020 wiederholt werden zum digitalisieren und extrahieren bitte ent-kommentieren ----</span>
  
  <span style="color:#75715e"># # Kahlschlag</span>
  <span style="color:#75715e"># train_area &lt;- mapview::viewRGB(pred_stack_2020, r = 1, g = 2, b = 3,maxpixels =  1693870) %&gt;% mapedit::editMap()</span>
  <span style="color:#75715e"># clearcut &lt;- train_area$finished$geometry %&gt;% st_sf() %&gt;% mutate(class = &#34;clearcut&#34;, id = 1)</span>
  <span style="color:#75715e"># train_area &lt;- mapview::viewRGB(pred_stack_2020, r = 1, g = 2, b = 3) %&gt;% mapedit::editMap()</span>
  <span style="color:#75715e"># other &lt;- train_area$finished$geometry %&gt;% st_sf() %&gt;% mutate(class = &#34;other&#34;, id = 2)</span>
  <span style="color:#75715e"># train_areas_2020 &lt;- rbind(clearcut, other)</span>
  <span style="color:#75715e"># train_areas_2020 = sf::st_transform(train_areas_2020,crs = sf::st_crs(pred_stack_2020))</span>
  <span style="color:#75715e"># tDF_2020 = exactextractr::exact_extract(pred_stack_2020, train_areas_2020,  force_df = TRUE,</span>
  <span style="color:#75715e">#                                         include_cell = TRUE,include_xy = TRUE,full_colnames = TRUE,include_cols = &#34;class&#34;)</span>
  <span style="color:#75715e"># tDF_2020 = dplyr::bind_rows(tDF_2020)</span>
  <span style="color:#75715e"># tDF_2020 = tDF_2020[  rowSums(is.na(tDF_2020)) == 0,]</span>
  <span style="color:#75715e"># saveRDS(tDF_2020, paste0(envrmt$path_data,&#34;train_areas_2020.rds&#34;))</span>
  
} else {
  train_areas_2019 <span style="color:#f92672">=</span> <span style="color:#a6e22e">readRDS</span>(<span style="color:#a6e22e">paste0</span>(envrmt<span style="color:#f92672">$</span>path_data,<span style="color:#e6db74">&#34;train_areas_2019.rds&#34;</span>))
  <span style="color:#75715e">#  train_areas_2020 = readRDS(paste0(envrmt$path_data,&#34;train_areas_2020.rds&#34;))</span>
  
}


</code></pre></div><h2 id="schritt-4---klassifizierung">Schritt 4 - Klassifizierung</h2>
<p>Maschinelles Lernen wie z. B. Random Forest, Algorithmen können so trainiert werden, dass sie automatisiert Muster in  Daten finden. Solange die Trainingsdaten  geeignet und repräsentativ sind , können  auch Vorhersagen für Räume getroffen werden, für die keine Daten vorhanden sind.</p>
<p>Wir wollen nun die räumlichen Merkmale Kahlschlag/kein Wald mit Techniken des maschinellen Lernens vorhersagen und Methoden der Zufallsvalidierung anwenden.</p>
<p>Wir wollen ein Modell erstellen, das zwischen den Pixeln eines Kahlschlages und allen anderen Pixeln unterscheiden kann. Dazu nutzen wir die HEruntergeladnen Daten im Vorhersage Rasterstack.</p>
<h2 id="random-forest">Random forest</h2>
<p>Random Forests können sowohl für Regressions- als auch für Klassifizierungsaufgaben verwendet werden, wobei letztere besonders in der Umwelt-Fernerkundung relevant sind. Wie bei jeder maschinellen Lernmethode lernt auch das Random-Forest-Modell, Muster und Strukturen in den Daten selbst zu erkennen.</p>
<p>
  <img src="images/Random_forest_diagram_complete.png" alt="">

</p>
<p>Abbildung: Vereinfachte Darstellung der Klassifizierung von Daten durch Random Forest während des Trainings. Venkata Jagannath [CC BY-SA 4.0] via wikipedia.org</p>
<p>Ein Random-Forest-Algorithmus lernt über die Daten, indem er viele Entscheidungsbäume erstellt - daher auch der Name &ldquo;Forest&rdquo;. Für Klassifizierungsaufgaben nimmt der Algorithmus eine passende Instanz aus eines Baumes aus dem Trainingsdatensatz  und weist dem Pixel dies Klasse zu. Dies wird mit allen verfügbaren Entschidungsbäuumen so gemacht und letzlich wird nach dem Winner takes it all Ansatz die Instanz der Klasse zugeordnet, die das Ergebnis der meisten Bäume ist.</p>
<p>Da der Random-Forest-Algorithmus Trainingsdaten benötigt, handelt es sich um eine überwachte Lernmethode. Das bedeutet, dass wir als Nutzer dem Algorithmus sagen müssen, was er vorhersagen soll. In unserem Fall müssen die Trainingsdaten verschiedene Kategorien oder Klassifizierungen der Bodenbedeckung (z. B. Kahlschlag, Rest) enthalten und mit mit einem Tag so gekennzeichnet sein.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e">## ---- Überwachte  mit Klassifikation Random Forest ----</span>

<span style="color:#75715e">## Hier wird der Entscheidungsbaum Algorithmus Random Forest über das Utility Paket caret aufgerufen</span>
<span style="color:#75715e">## ACHTUNG Das Beispiel ist nur für 2019</span>

<span style="color:#75715e"># das setzen eines seed ermöglicht reproduzierbaren zufall</span>
<span style="color:#a6e22e">set.seed</span>(<span style="color:#ae81ff">123</span>)

<span style="color:#75715e"># Aufsplitten  der Daten in training und test , zufällige extraktion von 25% der Daten</span>
trainDat_2019 <span style="color:#f92672">=</span>  train_areas_2019<span style="color:#a6e22e">[createDataPartition</span>(train_areas_2019<span style="color:#f92672">$</span>class,list <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>,p <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.25</span>),]
<span style="color:#75715e"># die response variable muss auf den Datentyp &#34;factor&#34; gesetzt werden</span>
trainDat_2019<span style="color:#f92672">$</span>class <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.factor</span>(trainDat_2019<span style="color:#f92672">$</span>class)
<span style="color:#75715e"># Training Steuerung mit  cross-validation, 10 wiederholungen</span>
ctrlh <span style="color:#f92672">=</span> <span style="color:#a6e22e">trainControl</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;cv&#34;</span>,
                     number <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>,
                     savePredictions <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
<span style="color:#75715e">#--- random forest model training</span>

<span style="color:#75715e"># Hiermit wird das Modell berechnet &#34;trainiert&#34;</span>
cv_model_2019 <span style="color:#f92672">=</span> <span style="color:#a6e22e">train</span>(trainDat_2019[,<span style="color:#ae81ff">2</span><span style="color:#f92672">:</span><span style="color:#ae81ff">11</span>], <span style="color:#75715e"># in den Spalten 2 bis 20 stehen die Trainingsdaten (Prediktoren genannt)</span>
                      trainDat_2019[,<span style="color:#ae81ff">1</span>],         <span style="color:#75715e"># in der Spalte 1 stet die zu Klassizierende Variable (Response genannt)</span>
                      method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;rf&#34;</span>,             <span style="color:#75715e"># Methode hier rf für random forest</span>
                      metric <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Kappa&#34;</span>,          <span style="color:#75715e"># Qualitäts/Performanzmaß KAppa</span>
                      trControl <span style="color:#f92672">=</span> ctrlh,         <span style="color:#75715e"># obig erzeugte Trainingssteuerung soll eingelsen werden</span>
                      importance <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)         <span style="color:#75715e"># Die Bedeung der Variablen wird mit abgespeichert</span>


<span style="color:#75715e"># Klassifikation wird häufig auch Vorhersage genannt.</span>
prediction_rf_2019  <span style="color:#f92672">=</span> raster<span style="color:#f92672">::</span><span style="color:#a6e22e">predict</span>(pred_stack_2019 ,cv_model_2019, progress <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;text&#34;</span>)

<span style="color:#75715e"># Vsualisation</span>
<span style="color:#a6e22e">tmap_mode</span>(<span style="color:#e6db74">&#34;view&#34;</span>)
<span style="color:#a6e22e">qtm</span>(prediction_rf_2019)
<span style="color:#a6e22e">qtm</span>(prediction_kmeans_2019<span style="color:#f92672">$</span>map)
<span style="color:#a6e22e">mapview</span>(prediction_rf_2019,col.regions <span style="color:#f92672">=</span> <span style="color:#a6e22e">mapviewPalette</span>(<span style="color:#e6db74">&#34;mapviewTopoColors&#34;</span>), at <span style="color:#f92672">=</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>), legend <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>,alpha.regions <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>)


</code></pre></div><h2 id="zusätzliche-ressourcen">Zusätzliche Ressourcen</h2>
<p>Bitte beachten Sie, dass es zahlreiche Blogs und Hilfestellungen gibt (<a href="https://rspatial.org/raster/rs/5-supclassification.html">rspatial - supervised classification</a>, <a href="https://rpubs.com/ials2un/rf_landcover">RPubs Tutorial</a>, Sydney&rsquo;s <a href="https://urbanspatial.github.io/classifying_satellite_imagery_in_R/">blog</a>,
<a href="https://www.r-exercises.com/2018/03/07/advanced-techniques-with-raster-data-part-2-supervised-classification/">supervised classification</a> oder <a href="https://valentinitnelav.github.io/satellite-image-classification-r/">pixel-based supervised classification</a>).</p>
<p>Keines dieser Dokumente ist als wissenschaftliche oder inhaltliche Referenz gedacht. Es ist so, wie der Autor des letzten Blogs, Valentin Stefan, sagt <em>&quot;[&hellip;]Betrachten Sie diesen Inhalt als einen Blogbeitrag und nichts weiter. Er erhebt nicht den Anspruch, eine erschöpfende Übung oder ein Ersatz für Ihr kritisches Denken zu sein.[&hellip;]&quot;</em></p>
<p>Dies ist lediglich ein Beispiel dafür, wie aus solchen Quellen (die alle mehr oder weniger technisch ähnlich sind) ein bestimmtes Set von Werkzeugen zur Bearbeitung einer Fragestellung entsteht. Dann nach viel Recherche und kritischer Prüfung kristallisiert sich ein aktueller Stand der Technik innerhalb der Gemeinschaft heraus.</p>
<ul>
<li><a href="http://wiki.awf.forst.uni-goettingen.de/wiki/index.php/Digitizing_training_and_test_areas">Digitalisierung von Trainingsdaten</a> by the <a href="https://www.uni-goettingen.de/en/67094.html">Forest Inventory and Remote Sensing</a> department at the University of Goettingen (Germany)</li>
<li><a href="https://docs.qgis.org/3.16/en/docs/training_manual/create_vector_data/create_new_vector.html#basic-ty-digitizing-polygons">Digitalisierung Turorial</a> in the QGIS 3.16 documentation</li>
<li><a href="https://www2.geog.soton.ac.uk/users/trevesr/obs/rseo/supervised_classification.html">Überwachte Klassifikation Ein Tutorial</a> by Richard Treves, formerly of the University of Southampton (UK)</li>
</ul>

                <style>
.button {
  border: none;
  border-radius: 4px 4px; 
  color: white;
  padding: 2px 4px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 12px;
  transition-duration: 0.5s;
  cursor: pointer;
  background-color: #4CAF50; 
  
}
.button1 a:link {
  color: #FFF;
  border-radius: 4px 4px;        
  background-color: #4CAF50; 
  
}

.button1 a:visited {
  color: white;
    border-radius: 4px 4px;        
  background-color: #4CAF50; 
  
}

.button1 a:hover {
  color: white;
    padding: 2px 4px;
    border-radius: 4px 4px;        
  background-color: #3FA043; 
  
}

.button1 a:active {
  color: white;
    border-radius: 4px 4px;        
  background-color: #4CAF50; 
  
}
}

.button1 {
  color: white;
  border-radius: 4px 4px;        
  background-color: #4CAF50; 
  
}


.button1:hover {
  background-color: #4CAF60;
    box-shadow:0 8px 16px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)
}

</style>


<div class="col-12 col-lg-10ish article-style">     
<p>Questions and mistakes but also suggestions and solutions are welcome.</p>
<script src="https://utteranc.es/client.js"
        repo="gisma-courses/gi-modules"
        issue-term="title"
        label="comments"
        theme="github-light"
        crossorigin="anonymous" 
        async>
</script>
<p>Due to an occasionally faulty page redirection, a 404 error may occur. please use the alternative <button class="button button1"> <a href="https://api.utteranc.es/authorize?redirect_uri=https%3a%2f%2fgisma-courses.github.io%2fgi-modules%2fpost%2f2021-12-16-change-detection%2f">Sign in with GitHub</a></button></p>
    
</div>

                
                
                <hr>
                <ul class="pager">
                    
                    
                    <li class="next">
                        <a href="/gi-modules/post/2021-12-03-r-spatial-in-der-nussschale/" data-toggle="tooltip" data-placement="top" title="Fichten im Harz">Next
                            Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>

            
            
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">Content</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
            
            
            

            
            <div class="
                col-lg-2 col-lg-offset-0
                col-md-3 col-md-offset-1
                sidebar-container
                catalog-container">

                
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">Tag Nav</a></h5>
                    <div class="tags">
                        
                        
                        
                        <a href="/gi-modules/tags/basics" title="basics">
                            basics
                        </a>
                        
                        
                        
                        <a href="/gi-modules/tags/ecology" title="ecology">
                            ecology
                        </a>
                        
                        
                        
                        <a href="/gi-modules/tags/forest" title="forest">
                            forest
                        </a>
                        
                        
                        
                        <a href="/gi-modules/tags/forestry" title="forestry">
                            forestry
                        </a>
                        
                        
                        
                        <a href="/gi-modules/tags/lidar" title="lidar">
                            lidar
                        </a>
                        
                        
                        
                        <a href="/gi-modules/tags/project-management" title="project-management">
                            project-management
                        </a>
                        
                        
                        
                        <a href="/gi-modules/tags/remote-sensing" title="remote-sensing">
                            remote-sensing
                        </a>
                        
                        
                        
                        <a href="/gi-modules/tags/reproducibility" title="reproducibility">
                            reproducibility
                        </a>
                        
                        
                        
                        <a href="/gi-modules/tags/resources" title="resources">
                            resources
                        </a>
                        
                        
                        
                        <a href="/gi-modules/tags/rmarkdown" title="rmarkdown">
                            rmarkdown
                        </a>
                        
                        
                        
                        <a href="/gi-modules/tags/scidoc" title="scidoc">
                            scidoc
                        </a>
                        
                        
                        
                        <a href="/gi-modules/tags/scripts" title="scripts">
                            scripts
                        </a>
                        
                        
                    </div>
                </section>
                 

                
                
                      
            </div>
        </div>
    </div>
</article>




<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                   
                    

                    
                    
                    

                    

		    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
            
            
            
                </ul>
		<p class="copyright text-muted">
                    Copyright &copy; gi-modules 2022
                    <br>
                    <a href="https://themes.gohugo.io/hugo-theme-cleanwhite">CleanWhite Hugo Theme</a> by <a href="https://zhaohuabing.com">Huabing</a> 
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function loadAsync(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        loadAsync("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    loadAsync("https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>









<script type="text/javascript">
    function generateCatalog(selector) {

        
        
        
        
            _containerSelector = 'div.post-container'
        

        
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        
        $(selector).html('')

        
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    


    loadAsync("\/gi-modules\/js\/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>


</body>
</html>
